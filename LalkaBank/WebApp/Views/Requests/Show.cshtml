@model WebApp.Models.Domains.Requests.RequestViewModel
@{
    ViewBag.Title = "request page";
}

<div class="row">
    @Html.LabelFor(m => m.CreditInfo)
    <div class="panel-info">
        @Model.CreditInfo
    </div>
</div>
<div class="row">
    @Html.LabelFor(m => m.CreditType)
    <div class="panel-info">
        @Model.CreditType.Info
    </div>
</div>
<div class="row">
    @Html.LabelFor(m => m.Confirm)
    <div class="panel-info">
        @if (Model.Confirm == 0)
        {
            <div class="row">
                Открыта
            </div>
        }
        @if (Model.Confirm == 1)
        {
            <div class="row">
                Рассмотрена
            </div>
        }
    </div>
</div>
<div class="row">
    @Html.LabelFor(m => m.UserInfo)
    <div class="row">
        <div class="row">
            @Html.LabelFor(m => m.UserInfo.Name)
        </div>
        <div class="row">
            @Model.UserInfo.Name
        </div>
    </div>
    <div class="row">
        <div class="row">
            @Html.LabelFor(m => m.UserInfo.SecondName)
        </div>
        <div class="row">
            @Model.UserInfo.SecondName
        </div>
    </div>
    <div class="row">
        <div class="row">
            @Html.LabelFor(m => m.UserInfo.LastName)
        </div>
        <div class="row">
            @Model.UserInfo.LastName
        </div>
    </div>
    <div class="row">
        <div class="row">
            @Html.LabelFor(m => m.UserInfo.Email)
        </div>
        <div class="row">
            @Model.UserInfo.Email
        </div>
    </div>
</div>
@if (Model.Confirm == 0 && !User.IsInRole("User"))
{
    <div class="row">
        @using (Html.BeginForm("ConfirmRequest", "Requests", FormMethod.Post,
            new {id = Model.RequestId}))
        {
            @Html.AntiForgeryToken()
            <input type="hidden" name="id" value="@Model.RequestId"/>
            <button type="submit">Confirm</button>
        }
    </div>
    <div class="row">
        @using (Html.BeginForm("DiscartRequest", "Requests", FormMethod.Post,
            new {id = Model.RequestId}))
        {
            @Html.AntiForgeryToken()
            <input type="hidden" name="id" value="@Model.RequestId" />
            <button type="submit">Discart</button>
        }

    </div>
}